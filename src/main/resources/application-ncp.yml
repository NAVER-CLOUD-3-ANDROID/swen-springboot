# application-ncp.yml
spring:
  config:
    activate:
      on-profile: ncp

  jpa:
    hibernate:
      ddl-auto: update  # 운영 시에는 validate
    show-sql: true
    properties:
      hibernate:
        format_sql: true

# NCP Cloud DB for MySQL 설정
database:
  mysql:
    host: ${NCP_DB_HOST}
    port: ${NCP_DB_PORT:3306}
    name: ${NCP_DB_NAME}
    username: ${NCP_DB_USERNAME}
    password: ${NCP_DB_PASSWORD}

  hikari:
    maximum-pool-size: 20
    minimum-idle: 5
    connection-timeout: 30000
    idle-timeout: 600000
    max-lifetime: 1800000

# NCP 특화 설정
ncp:
  region: ${NCP_REGION:KR}

  # Object Storage 설정 (음성 파일 저장용)
  object-storage:
    endpoint: ${NCP_OBJECT_STORAGE_ENDPOINT}
    access-key: ${NCP_ACCESS_KEY}
    secret-key: ${NCP_SECRET_KEY}
    bucket-name: ${NCP_BUCKET_NAME:news-audio-files}

  # Cloud Functions 설정 (필요 시)
  cloud-functions:
    endpoint: ${NCP_CLOUD_FUNCTIONS_ENDPOINT}

  # VPC 설정
  vpc:
    private-subnet: ${NCP_PRIVATE_SUBNET}
    security-group: ${NCP_SECURITY_GROUP}
